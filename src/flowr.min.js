/*! flowr 16-09-2013 */
!function(a,b,c){function d(){console.log.apply(console,arguments)}function e(a,b,c){if(null!=a)if(l&&a.forEach===l)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===j)return}else for(var f=_.keys(a),d=0,e=f.length;e>d;d++)if(b.call(c,a[f[d]],f[d],a)===j)return}function f(a,b,c,d){var f=arguments.length>2;if(null==a&&(a=[]),m&&a.reduce===m)return d&&(b=_.bind(b,d)),f?a.reduce(b,c):a.reduce(b);if(e(a,function(a,e,g){f?c=b.call(d,c,a,e,g):(c=a,f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return c}function g(a){console.log("new flower",a),this.src_=a.src,this.width_=a.width,this.height_=a.height,this.$element_=c(this.html()).get(0)}function h(a){var b;return"object"==typeof a&&a.url&&a.size&&a.size.w&&a.size.h&&(b=new g({src:a.url,width:a.size.w,height:a.size.h})),b||!1}function i(a,b){d("new Flowr",a,b);var e,g=c.map(b.data,function(a){return h(a)});console.log(g),e=f(g,function(a,b){return a.push(b.element()),a},[]),a.append(e)}var j={},k=Array.prototype,l=k.forEach,m=k.reduce;g.prototype={constructor:g,html:function(){return["<div class='flowr-item' style='width: ",this.width(),"px; height: ",this.height(),"px;'>","<img src='",this.src(),"'>","</div>"].join("")},src:function(a){return a&&a>0?(this.src_=a,this):this.src_},width:function(a){return a&&a>0?(this.width_=a,this):this.width_},height:function(a){return a&&a>0?(this.height_=a,this):this.height_},element:function(){return this.$element_}},c.fn.flowr=function(a){return this.each(function(){var b=c(this),d=c(this).data(),e=d.flowr;e?e.setOptions(a):new i(b,c.extend({},{},a))})}}(window,document,jQuery);